# Load optional .env file for local development
spring.config.import=optional:file:.env[.properties]

spring.profiles.active=dev

# MySQL Datasource
spring.datasource.url=jdbc:mysql://localhost:3306/safetycctv?useSSL=false&serverTimezone=UTC
spring.datasource.username=root
spring.datasource.password=1234
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA & Hibernate
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.defer-datasource-initialization=true

spring.thymeleaf.expose-request-attributes=true

# Naver Maps
# Provide via environment variable NAVER_MAP_CLIENT_ID to enable map features.
naver.map.client-id=${NAVER_MAP_CLIENT_ID:}

# --- AI Server Configuration ---
# Base URL for the Python AI analysis server
ai.server.base-url=http://localhost:8000

# --- Static Resource Handling for Shared Storage ---
# The URL path pattern that the browser will use to request images (e.g., http://localhost:8080/media/image.jpg)
app.storage.resource-handler=/media/**
# The actual file system path where the images are stored (must end with /)
app.storage.resource-locations=file:C:/SharedStorage/captures/

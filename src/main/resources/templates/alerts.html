<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout(~{::title}, ~{::section}, ~{::headResources})}">
<head>
    <title>알림 이력 | E-N-C 캠퍼스 안전</title>
    <th:block th:fragment="headResources">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
        <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/ko.js"></script>
        <link rel="stylesheet" th:href="@{/css/alerts.css}">
        <script defer th:src="@{/js/alerts.js}"></script>
    </th:block>
</head>
<body>
<section class="alerts-page">
    <div class="alerts-surface">
        <header class="alerts-header">
            <div class="alerts-header__meta">
                <p class="breadcrumbs">관제 &gt; 알림 이력</p>
                <h1 class="title">알림 이력 조회</h1>
            </div>
            <p class="subtitle">과거에 발생한 모든 위험/주의 알림을 확인하고 분석하세요.</p>
        </header>

        <div class="filter-bar">
            <div class="filter-item">
                <label for="dateRange">기간</label>
                <input type="text" id="dateRange" placeholder="날짜 범위 선택">
            </div>
            <div class="filter-item">
                <label for="levelFilter">등급</label>
                <select id="levelFilter">
                    <option value="all">전체</option>
                    <option value="DANGER">위험</option>
                    <option value="WARNING">주의</option>
                    <option value="INFO">정보</option>
                </select>
            </div>
            <div class="filter-item">
                <label for="cameraFilter">카메라</label>
                <select id="cameraFilter">
                    <option value="all">모든 카메라</option>
                </select>
            </div>
            <div class="filter-item filter-item--search">
                <label for="searchFilter">검색</label>
                <input type="search" id="searchFilter" placeholder="카메라 이름, 위치, 메시지 등 검색">
            </div>
        </div>

        <div class="table-container">
            <table class="history-table" id="alertsTable">
                <thead>
                <tr>
                    <th scope="col" data-sort="timestamp">발생 시각</th>
                    <th scope="col" data-sort="cameraName">카메라 이름</th>
                    <th scope="col">위치</th>
                    <th scope="col">알림 유형</th>
                    <th scope="col">상세 내용</th>
                    <th scope="col" data-sort="level">등급</th>
                </tr>
                </thead>
                <tbody>
                <!-- JS에서 데이터 렌더링 -->
                </tbody>
            </table>
        </div>

        <div class="pagination" id="pagination">
            <!-- JS에서 페이지네이션 렌더링 -->
        </div>
    </div>
</section>
<script th:inline="javascript">
    window.cameraData = /*[[${cameraListData}]]*/ [];
</script>
</body>
</html>

